
```
// services/promptService.js

const BASE_URL = 'http://localhost:8088'; // Set the base URL for the API

export const getAllPrompts = async () => {
    const response = await fetch(`${BASE_URL}/prompts`); // Use the correct URL for fetching all prompts
    return response.json();
};

export const getPromptById = async (id) => {
  const response = await fetch(`${BASE_URL}/prompts/${id}`); // Construct the URL to fetch a specific prompt by ID
    if (!response.ok) {
      throw new Error('Failed to fetch prompt data');
    }
    const data = await response.json();
    return data;
};

export const updatePrompt = async (id, promptData) => {

    const response = await fetch(`${BASE_URL}/prompts/${id}`, { // Construct the URL to update a prompt by ID
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(promptData),
    });
    if (!response.ok) {
      throw new Error('Failed to update prompt');
    }
    // Optionally, you can return the updated prompt data from the backend
    // const updatedPromptData = await response.json();
    // return updatedPromptData;
 
};
export const deletePrompt = async (id) => {
  try {
    const response = await fetch(`${BASE_URL}/prompts/${id}`, {
      method: 'DELETE',
    });
    if (!response.ok) {
      throw new Error('Failed to delete prompt');
    }
  } catch (error) {
    console.error('Failed to delete prompt', error);
  }
};```
```
releaseEvents// services/userService.js

const BASE_URL = 'http://localhost:8088';

export const getAllUsers = async () => {
  try {
    const response = await fetch(`${BASE_URL}/users`);
    return await response.json();
  } catch (error) {
    console.error('Error fetching users:', error);
    throw error;
  }
};

// ? Part Of the Auth Setup
export const getUserByEmail = (email) => {
    return fetch(`${BASE_URL}/users?email=${email}`).then((res) =>
      res.json()
    )
  }

export const createUser = () => {
  return fetch(`${BASE_URL}/users`, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify(),
  }).then((res) => res.json())
}
```
```
//  services/categoryService.js

const BASE_URL = 'http://localhost:8088';

export const getAllCategories = async () => {
  try {
    const response = await fetch(`${BASE_URL}/categories`);
    return response.json(); // Use response.json() instead of response.data
  } catch (error) {
    console.error('Error fetching categories:', error);
    throw error;
  }
};

// Other functions related to category operations...```
```
import { useState } from "react"
import { useNavigate } from "react-router-dom"
import "./Login.css"
import { createUser, getUserByEmail } from "../../services/userService.jsx"

export const Register = (props) => {
  const [customer, setCustomer] = useState({
    email: "",
    fullName: "",
    isStaff: false,
  })
  let navigate = useNavigate()

  const registerNewUser = () => {
    createUser(customer).then((createdUser) => {
      if (createdUser.hasOwnProperty("id")) {
        localStorage.setItem(
          "prompPro_Token",
          JSON.stringify({
            id: createdUser.id
            
          })
        )

        navigate("/")
      }
    })
  }

  const handleRegister = (e) => {
    e.preventDefault()
    getUserByEmail(customer.email).then((response) => {
      if (response.length > 0) {
        // Duplicate email. No good.
        window.alert("Account with that email address already exists")
      } else {
        // Good email, create user.
        registerNewUser()
      }
    })
  }

  const updateCustomer = (evt) => {
    const copy = { ...customer }
    copy[evt.target.id] = evt.target.value
    setCustomer(copy)
  }

  return (
    <main style={{ textAlign: "center" }}>
      <form className="form-login" onSubmit={handleRegister}>
        <h1>Honey Rae Repairs</h1>
        <h2>Please Register</h2>
        <fieldset>
          <div className="form-group">
            <input
              onChange={updateCustomer}
              type="text"
              id="fullName"
              className="form-control"
              placeholder="Enter your name"
              required
              autoFocus
            />
          </div>
        </fieldset>
        <fieldset>
          <div className="form-group">
            <input
              onChange={updateCustomer}
              type="email"
              id="email"
              className="form-control"
              placeholder="Email address"
              required
            />
          </div>
        </fieldset>
        <fieldset>
          <div className="form-group">
            <label>
              <input
                onChange={(evt) => {
                  const copy = { ...customer }
                  copy.isStaff = evt.target.checked
                  setCustomer(copy)
                }}
                type="checkbox"
                id="isStaff"
              />
              I am an employee{" "}
            </label>
          </div>
        </fieldset>
        <fieldset>
          <div className="form-group">
            <button className="login-btn btn-info" type="submit">
              Register
            </button>
          </div>
        </fieldset>
      </form>
    </main>
  )
}
```
```
import React, { useState } from "react"
import { Link } from "react-router-dom"
import { useNavigate } from "react-router-dom"
import "./Login.css"
import { getUserByEmail } from "../../services/userService" 


export const Login = () => {
  const [email, set] = useState("userone@example.com")
  const navigate = useNavigate()

  const handleLogin = (e) => {
    e.preventDefault();
  
    getUserByEmail(email).then((foundUsers) => {
      if (foundUsers.length === 1) {
        const user = foundUsers[0];
        localStorage.setItem(
          "prompPro_Token",
          JSON.stringify({ id: user.id }) // Corrected here
        );
    
        navigate("/");
      } else {
        window.alert("Invalid login");
      }
    });
  };

  return (
    <main className="container-login">
      <section>
        <form className="form-login" onSubmit={handleLogin}>
          <h1>PhromptPro</h1>
          <h2>Please sign in</h2>
          <fieldset>
            <div className="form-group">
              <input
                type="email"
                value={email}
                onChange={(evt) => set(evt.target.value)}
                className="form-control"
                placeholder="Email address"
                required
                autoFocus
              />
            </div>
          </fieldset>
          <fieldset>
            <div className="form-group">
              <button className="login-btn btn-info" type="submit">
                Sign in
              </button>
            </div>
          </fieldset>
        </form>
        <div>
      

        </div>
      </section>
      <section>
        <Link to="/register">Not a member yet?</Link>
      </section>
    </main>
  )
}
```
```
import React from 'react';
import { Link, useNavigate } from 'react-router-dom';
import './navBar.css'; // Make sure this path is correct

export const Header = () => {
  const navigate = useNavigate();

  return (
    <header>
      <h1>PromptPro</h1>
      <nav>
        <li className="navbar-item">
          <Link to="/">Home</Link>
        </li>
        <li className="navbar-item">
          <Link to="/tickets">PLACEHOLDER</Link>
        </li>
        
        {localStorage.getItem("prompPro_Token") ? (
          <li className="navbar-item">
            <Link
              className="navbar-link"
              to="/"
              onClick={() => {
                localStorage.removeItem("prompPro_Token");
                navigate("/", { replace: true });
              }}
            >
              Logout
            </Link>
          </li>
        ) : null}
      </nav>
    </header>
  );
};
```
```
// src/components/Footer.jsx
import React from 'react';

export const Footer = () => {
  return (
    <footer>
      <p>Â© 2024 by soyuz. All rights reserved.</p>
    </footer>
  );
};

```
```
import { Navigate, useLocation } from "react-router-dom"

// We can access child components the same way we access props. Child components are passed to our props as a key/value pair where
// children is the key.

export const Authorized = ({ children }) => {
  let location = useLocation()

  // Check if user is logged in. If they are, render the CHILD components (in this case, the ApplicationViews component)
  if (localStorage.getItem("prompPro_Token")) {
    return children
  }
  // If the user is NOT logged in, redirect them to the login page using the Navigate component from react-router-dom
  else {
    return <Navigate to={`/login`} state={{ from: location }} replace />
  }
}
```
```
// * src/views/AppViews.jsx

import React, { useState, useEffect } from 'react';
import { Routes, Route } from 'react-router-dom';
import { Footer } from '../components/persistant/Footer';
import { HomePage } from '../pages/HomePage';
import { ProfilePage } from '../pages/ProfilePage';
import { PromptsPage } from '../pages/PromptsPage';
import { CategoriesPage } from '../pages/CategoriesPage';
import { EditPromptPage } from '../pages/EditPromptPage';
import { CreatePromptPage } from '../pages/CreatePromptPage';
import { PromptView } from '../pages/PromptView';

export const AppView = () => {
  const [currentUserId, setCurrentUserId] = useState(null);

  useEffect(() => {
    const userId = JSON.parse(localStorage.getItem("prompPro_Token"))?.id;
    setCurrentUserId(userId);
  }, []);
  
  return (
    <div className="app">
     
      <main>
        <Routes>
          <Route path="/" element={<HomePage />} />
          <Route path="/profile" element={<ProfilePage />} />
          <Route path="/prompts" element={<PromptsPage currentUser={currentUserId}  />} />
          <Route path="/prompt/:id" element={<PromptView />} />
          <Route path="/categories" element={<CategoriesPage />} />
          <Route path="/edit-prompt/:id" element={<EditPromptPage />} />
          <Route path="/create-prompt" element={<CreatePromptPage currentUser={currentUserId} />} />
        </Routes>
      </main>
      <Footer />
    </div>
  );
};
```
